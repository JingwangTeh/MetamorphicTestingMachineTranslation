<?php$files = [	['../resource/sourcetext/text2012.txt', '../resource/sourcetext/text0000c.txt', '../resource/sourcetext/text0000s.txt'],			['../resource/sourcetext/text2013.txt', '../resource/sourcetext/text0000c.txt', '../resource/sourcetext/text0000s.txt'],			['../resource/sourcetext/text2014.txt', '../resource/sourcetext/text0000c.txt', '../resource/sourcetext/text0000s.txt'] ];for ($i = 0; $i < count($files); $i++) {	$myfile = fopen($files[$i][0], 'r') or die('unable to open file!');	$mynewfile_c = fopen($files[$i][1], 'a'); // simplified text	$mynewfile_s = fopen($files[$i][2], 'a'); // no tags	while(!feof($myfile)) {		// get line		$line = fgets($myfile);				// filter text (remove tags)		$line_c = strip_tags($line);		// other formatting		$line_c = html_entity_decode($line_c, ENT_QUOTES | ENT_HTML5);		$line_c = preg_replace('!\s+!', ' ', $line_c);		//$line_c = preg_replace('/\s([^a-zA-Z0-9])/', '$1', $line_c);		$line_c = trim($line_c);		$line_c .= PHP_EOL;		// filter text (simplify)		$line_s = preg_replace('#<gb>.*?<ge>#', '', $line);		// other formatting		$line_s = html_entity_decode($line_s, ENT_QUOTES | ENT_HTML5);		$line_s = preg_replace('!\s+!', ' ', $line_s);		//$line_s = preg_replace('/\s([^a-zA-Z0-9])/', '$1', $line_s);		$line_s = trim($line_s);		$line_s .= PHP_EOL ;		// write to text		fwrite($mynewfile_c, $line_c);		fwrite($mynewfile_s, $line_s);	}	fclose($myfile);	fclose($mynewfile_c);	fclose($mynewfile_s);}echo 'done filtering text';// Check output working #1/*$mynewfile_c_new = fopen($files[$i][1], 'r') or die('unable to open file!'); // no tags$mynewfile_s_new = fopen($files[$i][2], 'r') or die('unable to open file!'); // simplified textecho 'result no tags: ' . fgets($mynewfile_c_new) . '<br/>';echo 'result simplified: ' . fgets($mynewfile_s_new) . '<br/>';echo '<br/><br/><br/><br/><br/>';fclose($mynewfile_c_new);fclose($mynewfile_s_new);*/// Check output working #2/*// file name$filename_s = '../text0000s.txt';$filename_c = '../text0000c.txt';// open file (before deleting)$myfile = fopen($filename_s, 'r+') or die('unable to open file!');$line = fgets($myfile);echo 'before deleting: ' . $line . '<br/>';fclose($myfile);// Overwrite first line$contents = file($filename_s, FILE_IGNORE_NEW_LINES);$first_line = array_shift($contents);file_put_contents($filename_s, implode("\r\n", $contents));//$newFile = file_get_contents($filename_s, FILE_USE_INCLUDE_PATH);//$newFileContents = substr($line, strpos($newFile, "\n")+1 );//file_put_contents($filename_s, $newFileContents);// open file (after deleting)$myfile = fopen($filename_s, 'r+') or die('unable to open file!');$line = fgets($myfile);echo 'after deleting: ' . $line . '<br/>';fclose($myfile);*/?>